+function($){"use strict";function Plugin(t){return this.each(function(){var a=$(this),e=$.extend({},Validator.DEFAULTS,a.data(),"object"==typeof t&&t),r=a.data("bs.validator");(r||"destroy"!=t)&&(r||a.data("bs.validator",r=new Validator(this,e)),"string"==typeof t&&r[t]())})}var Validator=function(t,a){this.$element=$(t),this.options=a,this.$element.attr("novalidate",!0),this.toggleSubmit(),this.$element.on("input.bs.validator change.bs.validator focusout.bs.validator",$.proxy(this.validateInput,this)),this.$element.on("submit.bs.validator",$.proxy(this.onSubmit,this)),this.$element.find("[data-match]").each(function(){var t=$(this),a=t.data("match");$(a).on("input.bs.validator",function(){t.val()&&t.trigger("input.bs.validator")})})};Validator.DEFAULTS={delay:500,html:!1,disable:!0,errors:{match:"Does not match",minlength:"Not long enough"}},Validator.VALIDATORS={"native":function(t){var a=t[0];return a.checkValidity?a.checkValidity():!0},match:function(t){var a=t.data("match");return!t.val()||t.val()===$(a).val()},minlength:function(t){var a=t.data("minlength");return!t.val()||t.val().length>=a}},Validator.VALIDATORS.pattern=function($el){var patternRegExp=$el.data("pattern");return $el.val().match(eval(patternRegExp))},Validator.prototype.validateInput=function(t){var a=$(t.target),e=a.data("bs.validator.errors");if(a.is('[type="radio"]')&&(a=this.$element.find('input[name="'+a.attr("name")+'"]')),this.$element.trigger(t=$.Event("validate.bs.validator",{relatedTarget:a[0]})),!t.isDefaultPrevented()){var r=this;this.runValidators(a).done(function(i){a.data("bs.validator.errors",i),i.length?r.showErrors(a):r.clearErrors(a),e&&i.toString()===e.toString()||(t=i.length?$.Event("invalid.bs.validator",{relatedTarget:a[0],detail:i}):$.Event("valid.bs.validator",{relatedTarget:a[0],detail:e}),r.$element.trigger(t)),r.toggleSubmit(),r.$element.trigger($.Event("validated.bs.validator",{relatedTarget:a[0]}))})}},Validator.prototype.runValidators=function(t){function a(a){return t.data(a+"-error")||t.data("error")||"native"==a&&t[0].validationMessage||i.errors[a]}var e=[],r=([Validator.VALIDATORS["native"]],$.Deferred()),i=this.options;return t.data("bs.validator.deferred")&&t.data("bs.validator.deferred").reject(),t.data("bs.validator.deferred",r),$.each(Validator.VALIDATORS,$.proxy(function(r,i){if((t.data(r)||"native"==r)&&!i.call(this,t)){var o=a(r);!~e.indexOf(o)&&e.push(o)}},this)),!e.length&&t.val()&&t.data("remote")?this.defer(t,function(){var i={};i[t.attr("name")]=t.val(),$.get(t.data("remote"),i).fail(function(t,r,i){e.push(a("remote")||i)}).always(function(){r.resolve(e)})}):r.resolve(e),r.promise()},Validator.prototype.validate=function(){var t=this.options.delay;return this.options.delay=0,this.$element.find(":input").trigger("input.bs.validator"),this.options.delay=t,this},Validator.prototype.showErrors=function(t){var a=this.options.html?"html":"text";this.defer(t,function(){var e=t.closest(".form-group"),r=e.find(".help-block.with-errors"),i=e.find(".form-control-feedback"),o=t.data("bs.validator.errors");o.length&&(o=$("<ul/>").addClass("list-unstyled").append($.map(o,function(t){return $("<li/>")[a](t)})),void 0===r.data("bs.validator.originalContent")&&r.data("bs.validator.originalContent",r.html()),r.empty().append(o),e.removeClass("has-success"),e.addClass("has-error"),i.removeClass("glyphicon-ok"),i.addClass("glyphicon-warn"))})},Validator.prototype.clearErrors=function(t){var a=t.closest(".form-group"),e=a.find(".help-block.with-errors"),r=a.find(".form-control-feedback");e.html(e.data("bs.validator.originalContent")),a.removeClass("has-error"),a.addClass("has-success"),r.removeClass("glyphicon-warn"),r.addClass("glyphicon-ok")},Validator.prototype.hasErrors=function(){function t(){return!!($(this).data("bs.validator.errors")||[]).length}return!!this.$element.find(":input:enabled").filter(t).length},Validator.prototype.isIncomplete=function(){function t(){return"checkbox"===this.type?!this.checked:"radio"===this.type?!$('[name="'+this.name+'"]:checked').length:""===$.trim(this.value)}return!!this.$element.find(":input[required]:enabled").filter(t).length},Validator.prototype.onSubmit=function(t){this.validate(),(this.isIncomplete()||this.hasErrors())&&t.preventDefault()},Validator.prototype.toggleSubmit=function(){if(this.options.disable){var t=this.$element.find('input[type="submit"], button[type="submit"]');t.toggleClass("disabled",this.isIncomplete()||this.hasErrors()).css({"pointer-events":"all",cursor:"pointer"})}},Validator.prototype.defer=function(t,a){return this.options.delay?(window.clearTimeout(t.data("bs.validator.timeout")),void t.data("bs.validator.timeout",window.setTimeout(a,this.options.delay))):a()},Validator.prototype.destroy=function(){return this.$element.removeAttr("novalidate").removeData("bs.validator").off(".bs.validator"),this.$element.find(":input").off(".bs.validator").removeData(["bs.validator.errors","bs.validator.deferred"]).each(function(){var t=$(this),a=t.data("bs.validator.timeout");window.clearTimeout(a)&&t.removeData("bs.validator.timeout")}),this.$element.find(".help-block.with-errors").each(function(){var t=$(this),a=t.data("bs.validator.originalContent");t.removeData("bs.validator.originalContent").html(a)}),this.$element.find('input[type="submit"], button[type="submit"]').removeClass("disabled"),this.$element.find(".has-error").removeClass("has-error"),this};var old=$.fn.validator;$.fn.validator=Plugin,$.fn.validator.Constructor=Validator,$.fn.validator.noConflict=function(){return $.fn.validator=old,this},$(window).on("load",function(){$('form[data-toggle="validator"]').each(function(){var t=$(this);Plugin.call(t,t.data())})})}(jQuery);


